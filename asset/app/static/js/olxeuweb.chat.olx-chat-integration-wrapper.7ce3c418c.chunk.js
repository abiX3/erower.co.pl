(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[69016],{7743:(e,t,r)=>{"use strict";var n=r(4601),o=r(38984),i=["getRoot"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.Z=e=>{var{getRoot:t}=e,r=s(e,i),c=!!(0,o.j)()&&("undefined"!==typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype),[u,d]=(0,n.useState)(!1),p=(0,n.useRef)();return(0,n.useEffect)((()=>{if((0,o.j)()){if(c){var e=p.current,n=new IntersectionObserver((t=>{var[r]=t;r&&null!==r&&void 0!==r&&r.isIntersecting&&(d(!0),e&&n.unobserve(e))}),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({root:t?t():null,rootMargin:"0px",threshold:.1},r));return e&&n.observe(e),()=>{e&&n.unobserve(e)}}d(!0)}}),[t,c,p.current]),[u,p]}},82567:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var n=r(5223),o="hourly",i="monthly",a=(e,t)=>{switch(t){case o:return"/ "+e.formatMessage({id:"ad.price.description.salary.hourly"});case i:return"/ "+e.formatMessage({id:"ad.price.description.salary.monthly",defaultMessage:"Monthly"});default:return""}},l=(e,t)=>{if(!t)return"";var r=t.period;if(t.label)return"".concat(t.label," / ").concat(e.formatMessage({id:"ad.price.description.salary.monthly",defaultMessage:"Monthly"}));if(!t.from||!t.to){var o=t.from?t.from:t.to;return"".concat((0,n.b)(o,t.priceFormatConfig)," ").concat(t.currencySymbol," ").concat(a(e,r))}return"".concat((0,n.b)(t.from,t.priceFormatConfig)," - ").concat((0,n.b)(t.to,t.priceFormatConfig)," ").concat(t.currencySymbol," ").concat(a(e,r))}},24970:(e,t,r)=>{"use strict";r.r(t),r.d(t,{OLXChatIntegrationContextWrapper:()=>vt});var n=r(4601),o=r.n(n),i=r(13235),a=r(38336),l=r(36843),s=r(78023),c=r(82608),u=r(57424),d=r(29553),p=r(58410),f=r(94193),y=r.n(f),m=r(22108),_=r.n(m),g=r(94808),b=r.n(g),v=r(98251),O=r(82567),h=r(39121),E=r(23497);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={budget:!1,free:!1,exchange:!1,regularPrice:null},C=(e,t)=>({id:String(e.id),name:e.name,thumbnailUrl:e.user_photo,lastSeenDate:e.last_seen,isOnline:Boolean(e.is_online),getUserAdsUrl:(r,n)=>{var o;if(!!!e.user_ads_url||!n)return{};var i="seller"===n.type,a=n.id,l=i?null===r||void 0===r||null===(o=r.shop)||void 0===o?void 0:o.subdomain:void 0,{url:s,sameOrigin:c}=(0,h.q$)(a,l,t);return{url:(0,E.oz)(s),internal:c}}}),S=(e,t,r,n,o)=>{var i,{id:a,category:{id:l,type:s},title:c,photos:u,url:d,location:p,shop:f,user:{id:y},status:m,offer_type:_}=e,g=null===u||void 0===u||null===(i=u[0])||void 0===i?void 0:i.link,h=g&&b()(g,{width:144,height:144}),E=I(e,t,r),P=T(e,t,r,n);return{id:a,title:c,value:E?((e,t)=>t.regularPrice?"".concat(t.regularPrice.value," ").concat(t.regularPrice.currencySymbol):t.free?e.formatMessage({id:"ad.price.free",defaultMessage:"Free"}):t.exchange?e.formatMessage({id:"ad.price.exchange",defaultMessage:"Exchange"}):"")(o,E):P?(0,O.s)(o,P):"",categoryId:l,categoryType:s,userId:y,thumbnailUrl:h,getAdUrl:()=>({url:v.Z.getInternalAdUrl(d),internal:!0}),location:p?A(p):null,status:"active"===m?"active":"inactive",shop:f,salary:P,jobOfferType:_}},I=(e,t,r)=>{var n=e.params,o=y()(n,{key:"price"}),i=_()(o,"value",{}),a=_()(i,"type",""),l=_()(i,"value"),s=_()(i,"currency",""),c=_()(i,"arranged",!1),u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},w),d=_()(i,"converted_value",null),p=_()(i,"converted_currency",null);return"exchange"===a?(u.exchange=!0,u):"budget"===a?(u.budget=!0,u):"free"===a||0===l?(u.free=!0,u):void 0!==l&&l>0?d?(u.regularPrice={value:Math.floor(d),currencyCode:p,currencySymbol:_()(r,[p,"symbol"],""),negotiable:c,priceFormatConfig:t},u):(u.regularPrice={value:l,currencyCode:s,currencySymbol:_()(r,[s,"symbol"],""),negotiable:c,priceFormatConfig:t},u):void 0},T=(e,t,r,n)=>{var o;return null!==(o=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=y()(e,{key:"olxpt"===n?"salario":"salary"},void 0);if(!o)return null;var i=_()(o,"value",{}),a=_()(i,"currency",""),l=_()(i,"arranged",!1);return{from:_()(i,"from",0),to:_()(i,"to",0),currencyCode:a,currencySymbol:_()(t,[a,"symbol"],""),period:_()(i,"type",""),priceFormatConfig:r,negotiable:l,label:_()(i,"label","")}}(e.params,r,t,n))&&void 0!==o?o:void 0},A=e=>{var t=_()(e,"city.name",null),r=_()(e,"region.name",null),n=_()(e,"district.name",null);return{cityName:t,cityId:_()(e,"city.id",0),cityNormalizedName:_()(e,"city.normalized_name",null),regionName:r,regionId:_()(e,"region.id",0),regionNormalizedName:_()(e,"region.normalized_name",null),districtName:n,districtId:_()(e,"district.id",0)}};var N=r(82328),k=r(86795),L=r(47877),D=r(89023),x=r(44626),R=r.n(x),M=r(45977),K=r(87005);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,o)}function W(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){V(i,n,o,a,l,"next",e)}function l(e){V(i,n,o,a,l,"throw",e)}a(void 0)}))}}var z=()=>{var e=(0,n.useContext)(K.ZP),[t,r]=(0,n.useState)();return(0,n.useEffect)((()=>{W((function*(){var t,{recommendations:n}=yield function(e,t,r){return G.apply(this,arguments)}(e,0,1);r(null===n||void 0===n||null===(t=n[0])||void 0===t?void 0:t.urlPath)}))()}),[]),t};function G(){return(G=W((function*(e,t,r){var{appConfig:n}=e,o=n.atlasAuthConfig,i="".concat(o.url).concat(o.apiRoot),[a]=(R().get("onap")||"").split("-"),l=a?{sl:a}:{sl:""};return(0,M.V)(yield(0,p.t5)("".concat(i,"homescreen/"),{queryParams:B({offset:t,limit:r},l),method:"GET"},!1,!0,!1),e)}))).apply(this,arguments)}var H=r(10727);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X,Q,J,$,ee,te,re,ne={searchForSomething:"/search/",openRandom:"/",postAnAd:"/adding/"},oe=()=>{var{formatMessage:e}=(0,H.YB)();return o().createElement(D.Paragraph2,{dangerouslySetInnerHTML:{__html:e({id:"chat.conversations.empty.links",defaultMessage:"To start chatting with other members, search for something or post an ad on OLX."},ne)},mt:16,color:"grey5","data-testid":"empty-list-info"})},ie=()=>{var{formatMessage:e}=(0,H.YB)(),t=z();return o().createElement(D.Paragraph2,{dangerouslySetInnerHTML:{__html:e({id:"chat.conversations.buying.empty.additional"},Z(Z({},ne),{},{openRandom:null!==t&&void 0!==t?t:"/"}))},mt:16,color:"grey5","data-testid":"empty-list-info"})},ae=()=>{var{formatMessage:e}=(0,H.YB)();return o().createElement(D.Paragraph2,{dangerouslySetInnerHTML:{__html:e({id:"chat.conversations.selling.empty.additional"},ne)},mt:16,color:"grey5","data-testid":"empty-list-info"})},le=r(30063),se=r(55090),ce=r(63862),ue=r(89610),de=r.n(ue),pe=r(28332);function fe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ye=ce.default.div(X||(X=fe(["\n    display: flex;\n    flex-direction: column;\n    border-radius: ",";\n    padding: ",";\n    background-color: ",";\n    width: 100%;\n    text-align: ",";\n"])),(e=>e.theme.radii[4]),(e=>e.theme.space[16]),(e=>e.theme.colors.grey3+"66"),(e=>"column"===e.layout?"left":"center")),me=(0,ce.default)(D.Paragraph7)(Q||(Q=fe(["\n    margin-bottom: ",";\n    color: ",";\n    display: flex;\n"])),(e=>e.theme.space[16]),(e=>e.theme.colors["text-global-secondary"])),_e=ce.default.div(J||(J=fe(["\n    display: flex;\n    flex-direction: ",";\n    align-items: ",";\n    margin-bottom: ",";\n    justify-content: ",";\n"])),(e=>"column"===e.layout?"column":"row"),(e=>"column"===e.layout?"flex-start":"center"),(e=>e.theme.space[16]),(e=>"column"===e.layout?"flex-start":"center")),ge=(0,ce.default)(D.Paragraph3)($||($=fe(["\n    margin-bottom: ",";\n"])),(e=>e.theme.space[16])),be=(0,ce.default)(se.b)(ee||(ee=fe(["\n    margin: ",";\n"])),(e=>e.theme.space[4])),ve=(0,ce.default)(D.Paragraph4)(te||(te=fe(["\n    color: ",";\n"])),(e=>e.theme.colors["text-global-secondary"])),Oe=(0,ce.default)(pe.JO)(re||(re=fe(["\n    margin-right: ",";\n"])),(e=>e.theme.space[4])),he="We only use your answer for statistical purposes. We don't share it with anyone.",Ee="Only visible to you.",Pe=(0,n.forwardRef)(((e,t)=>{var{questionText:r,privacyNoteText:i=Ee,detailedText:a=he,options:l,handleSelection:s,initialSelection:c=null}=e,[u,d]=(0,n.useState)(c),p=l.length>2?"column":"row";return o().createElement(ye,{layout:p,ref:t,"data-testid":"custom-message"},o().createElement(me,null,o().createElement(Oe,{name:de(),size:12}),o().createElement("div",null,i)),o().createElement(ge,null,r),o().createElement(_e,{layout:p},l.map((e=>o().createElement(be,{"data-testid":e.option_id===u&&"single-closed-question-active-option",key:e.option_id,isActive:e.option_id===u,onClick:()=>{d(e.option_id),s(e.option_id,e.value,u)}},e.text)))),o().createElement(ve,null,a))})),je=r(64340),we=["https://mock-api.chat.stg.eu.olx.org","https://api-olxpl.chat.stg.eu.olx.org","https://api.chat.olx.pl"],Ce=e=>!we.every((t=>!e.startsWith(t)));function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ae(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,o)}function Ne(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ae(i,n,o,a,l,"next",e)}function l(e){Ae(i,n,o,a,l,"throw",e)}a(void 0)}))}}var ke=function(){var e=Ne((function*(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(i>2)throw new je.Z("Failed post answer request",500);var a=yield r();if(!a)throw new je.Z("Not authorized",401);try{return p.Nv.post(e,JSON.stringify(t),{headers:Ie(Ie({},Ce(e)&&{Authorization:"Bearer "+a.accessToken}),{},{"X-Site-Code":o})})}catch(l){if(l instanceof je.Z&&401===l.status)return yield n(a),yield ke(e,t,r,n,o,++i);throw l}}));return function(t,r,n,o,i){return e.apply(this,arguments)}}(),Le=()=>{var{getAuthToken:e,refreshAuthToken:t}=(0,n.useContext)(l.Vo),{appConfig:{siteCode:r}}=(0,n.useContext)(K.ZP);return(0,n.useCallback)(function(){var n=Ne((function*(n,o){return yield ke(n,o,e,t,r)}));return function(e,t){return n.apply(this,arguments)}}(),[e,t,r])},De=r(7743),xe=r(49663),Re=r(3275),Me=r(18813),Ke=r(15973),Ue=r.n(Ke);function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var We=(e,t)=>{var r=e,n=r.location;return Fe(Fe(Fe({ad_id:e.id,seller_id:e.userId},e.categoryId&&ze(t,e.categoryId)),He(r.salary)),n&&qe({cityId:n.cityId,cityNormalizedName:n.cityNormalizedName,regionId:n.regionId,regionNormalizedName:n.regionName,districtId:n.districtId}))},ze=(e,t)=>{if(!t)return{};var r=e[t];return Ge(e,r).reduce(((e,t,r)=>{var n=r+1;return e["cat_l".concat(n,"_id")]=t.id,e["cat_l".concat(n,"_name")]=t.normalizedName,e}),{})||null},Ge=(e,t)=>t?t.parentId&&e[t.parentId]?[...Ge(e,e[t.parentId]),t]:[t]:[],He=e=>{var t={jobs_salary_min:null,jobs_salary_max:null,jobs_salary_type:null,jobs_salary_currency:null};if(!e)return t;var{from:r,to:n,period:o,currencySymbol:i}=e;return r&&(t.jobs_salary_min=r),n&&(t.jobs_salary_max=n),o&&(t.jobs_salary_type=o),i&&(t.jobs_salary_currency=i),t},qe=e=>{var t={region_id:_()(e,"regionId",null),city_id:_()(e,"cityId",null),district_id:_()(e,"districtId",null),region_name:_()(e,"regionNormalizedName",null),city_name:_()(e,"cityNormalizedName",null)};return Ue()(t,(e=>null!==e))};function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){Xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qe=e=>{var{message:t,conversation:r}=e,{id:i,extras:{options:a,privacyNoteText:l,questionText:s,detailedText:c,destination:u,questionId:d}}=t,p=Le(),f=(0,n.useMemo)((()=>(0,Re.j)(i)),[i]),y=f.get(),[m,_]=(0,De.Z)({rootMargin:"0px 0px 0px 0px"}),g=(()=>{var{trackEvent:e}=(0,Me.rS)(),[t]=(0,N.L_)();return function(r,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=We(n,t);null===e||void 0===e||e(r,Ye(Ye({},i),o))}})();(0,n.useEffect)((()=>{m&&g(xe.U.pageViews.singleClosedQuestion,r.ad,{chat_question_id:d,seller_id:r.ad.userId})}),[m]);var b=(0,n.useCallback)(((e,t)=>{g(xe.U.event.singleClosedQuestionAnswerSent,r.ad,{chat_question_id:e,chat_option_id:t})}),[r.ad,g]),v=(0,n.useCallback)(((e,t,n)=>{f.set(e),n&&e===n||p(u,{conversation_id:r.id,message_id:i,question_id:d,option_id:e,value:t}),b(d,e)}),[f,u,p,r.id,i,d,b]);return o().createElement(Pe,{options:a,privacyNoteText:l,questionText:s,detailedText:c,handleSelection:v,initialSelection:y,ref:_})},Je=e=>{switch(e.type){case"custom:single_closed_question":return et(e);default:return}},$e=(e,t)=>{switch(e.type){case"custom:single_closed_question":return o().createElement(Qe,{message:e,conversation:t});default:return null}},et=e=>{var{extras:t}=e;if(t){var{question_id:r,text:n,detailed_text:o,options:i,visibility_privacy_note_text:a,destination:l}=t;return{type:"custom:single_closed_question",extras:{text:n,questionId:r,questionText:n,detailedText:o,options:i,privacyNoteText:a,destination:l}}}},tt=r(78972);function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ot(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var it=()=>{var[e]=(0,N.L_)();return(0,n.useMemo)((()=>(e=>({CONVERSATIONS_PAGE:"my_messages_conversation",CONVERSATIONS_LIST_PAGE:"my_messages",NEW_CONVERSATION_PAGE:"my_messages_conversation",FRAUD_TOOLTIP:{seller:"seller_chat_pii_data_warning",buyer:"chat_pii_data_warning"},MESSAGE_CONTENT_WARNING:{buyer:"chat_masking_pii_data_warning",seller:"seller_chat_masking_pii_data_warning"},AD_CLICK:"ad_page_click",BACK_BUTTON_CLICK:"back_arrow_click",CONVERSATION_MENU_CLICK:"my_messages_settings_click",LIST_ITEM_CONTEXT_MENU_OPEN:"my_messages_settings_longpress",LOCATION_SENT_CLICK:"share_location_sent",NEW_CONVERSATION_LIMIT_WARNING_SEEN:"chat_messages_limit_warning",REMOVE_MESSAGE_CLICK:"undelivered_delete",RESEND_MESSAGE_CLICK:"undelivered_resend",SCROLL_DOWN_BUTTON_CLICK:"my_messages_conversation_scroll",SHARE_LOCATION_CLICK:"share_location_click",TYPING_BOX_DISPLAYED:"typing_indicator_displayed",PERSONAL_DATA_SHARE_WARNING_CLICK:{seller:"seller_chat_masking_pii_data_warning_approve",buyer:"chat_masking_pii_data_warning_approve"},ADD_ATTACHMENT_CLICK:["attachment_add_click","input_plus"],ADD_FILE_ATTACHMENT_CLICK:["attachment_add_click","paper_clip"],ADD_IMAGE_ATTACHMENT_CLICK:["attachment_add_click","photo_gallery"],ALL_BUYING_READ_SEEN:["my_messages_all_read_banner","buying"],ALL_SELLING_READ_SEEN:["my_messages_all_read_banner","selling"],ARCHIVE_CLICK:["my_messages_settings_valid","archive"],ARCHIVED_LIST_OPEN_CLICK:["my_messages_filter_valid","archived"],BLOCK_RESPONDENT_CLICK:["my_messages_settings_block_user_click","block_user"],BLOCK_RESPONDENT_CONFIRM_CLICK:["block_user_click","block_user"],BLOCK_RESPONDENT_ON_REPORT_CLICK:["block_user_click","add_block_user"],BUYING_TAB_CLICK:["my_messages_filter_valid","otherAds"],DELETE_CLICK:["my_messages_settings_valid","delete"],DELETE_CONFIRM_CLICK:["my_messages_settings_valid","delete_confirm"],LIST_ITEM_OBSERVE_CLICK:["my_messages_add_to_favourite","my_messages"],LIST_ITEM_UNOBSERVE_CLICK:["my_messages_remove_from_favourite","my_messages"],OBSERVE_ACTION_CLICK:["my_messages_add_to_favourite","my_messages_conversation"],REPORT_USER_CLICK:["my_messages_settings_report_user_click","add_report_user"],RESPONDENT_PROFILE_CLICK:["my_messages_settings_valid","user_ads"],SAVED_LIST_OPEN_CLICK:["my_messages_filter_valid","observed"],SELLING_TAB_CLICK:["my_messages_filter_valid","myAds"],TAKE_PHOTO_CLICK:["attachment_add_click","camera_icon"],UNARCHIVE_CLICK:["my_messages_settings_valid","unarchive"],UNBLOCK_USER_CLICK:["unblock_user_click","unblock_user"],UNOBSERVE_ACTION_CLICK:["my_messages_remove_from_favourite","my_messages_conversation"],CONFIRM_FRAUD_TOOLTIP_CLICK:{buyer:"chat_pii_data_warning_approve",seller:"seller_chat_pii_data_warning_approve"},SKIP_FRAUD_TOOLTIP_CLICK:{buyer:"chat_pii_data_warning_no_risk",seller:"seller_chat_pii_data_warning_no_risk"},MESSAGE_SENT:{prepare:t=>{var{context:r}=t;if(r&&"conversation"in r){var{ad:n,respondent:o}=r.conversation,i="seller"===o.type?"buyer":"seller";return["my_messages_sent",nt({ad_id:n.id,seller_id:n.userId,user_role:i},We(n,e))]}}},NEW_CONVERSATION_STARTED:{prepare:t=>{var{context:r}=t;if(r&&"ad"in r){var n=r.ad;return["reply_chat_sent",nt({ad_id:n.id,seller_id:n.userId,user_role:"buyer"},We(n,e))]}}},FILE_ATTACHED:{prepare:e=>{if("FILE_ATTACHED"===e.name)return["attachment_upload_select_success",{filesize:e.params.filesize,filetype:e.params.filetype}]}},REPORT_SUBMIT:{prepare:e=>{if("REPORT_SUBMIT"===e.name)return[["user_report_sent",e.params.reasonType],{with_description:e.params.with_description}]}},REPORT_REASON_SELECTED:{prepare:e=>{if("REPORT_REASON_SELECTED"===e.name)return[["user_report_reason_click",e.params.reasonType],{}]}}}))(e)),[e])},at=(e,t,r)=>{if(r){if("conversation"in r)return r.conversation.respondent.type!==e;var n=r.ad.userId;return"seller"===e?n===t:n!==t}},lt=r(13420),st=r(68704),ct=r.n(st);function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ft=()=>{var{trackEvent:e,trackPageView:t}=(0,Me.rS)(),r=it(),{user:o}=(0,n.useContext)(lt.St),i=String(o.userId);return(0,n.useCallback)((n=>{var o=n.context,a=r[n.name],l=(e=>e?"conversation"in e?{ad_id:e.conversation.ad.id,conversation_id:e.conversation.id}:{ad_id:e.ad.id}:{})(n.context);if(ct()(a))if("prepare"in a){var s=a.prepare(n);if(!s)return;var[c,u]=s;a=c,l=dt(dt({},l),u)}else"buyer"in a&&((e,t)=>at("buyer",e,t))(i,o)?a=a.buyer:"seller"in a&&((e,t)=>at("seller",e,t))(i,o)&&(a=a.seller);if((0,tt.isString)(a))"action"===n.type?e(a,l):t(a,l);else if(Array.isArray(a)){var[d,p]=a;return e(d,l,p)}}),[e,t,r,i])};function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach((function(t){_t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gt(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,o)}function bt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){gt(i,n,o,a,l,"next",e)}function l(e){gt(i,n,o,a,l,"throw",e)}a(void 0)}))}}var vt=e=>{var t,{children:r}=e,f=(0,k.useIntl)(),{isFeatureFlag:y}=(0,u.Z)(),{getAuthToken:m,authenticated:_}=(0,n.useContext)(l.Vo),[g]=(0,N.L_)(),b=ft(),v=(0,a.ZR)(),{siteCode:O,locale:h,langISOCode:E,platform:P,chatApiConfig:{api:{url:j},ws:{url:w}},atlasAuthConfig:{moderationAPIUrl:I,adsReportingAPIUrl:T},currencies:A,priceFormat:D,mapApi:x}=(0,a.MG)(),R=(0,n.useCallback)(bt((function*(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var{data:n}=yield p.GE.get("offers/multiple",{ids:t});return n.length>0?n.map((e=>S(e,D,A,O,f))):[]})),[D,A,f,O]),M=(0,n.useCallback)(bt((function*(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var{data:n}=yield p.GE.get("users",{user_ids:t});return n.length>0?n.map((e=>C(e,v))):[]})),[v]),K=(0,n.useMemo)((()=>({getToken:function(){var e=bt((function*(){var e;return null===(e=yield m())||void 0===e?void 0:e.accessToken}));return function(){return e.apply(this,arguments)}}(),unauthorizedHandler:()=>!0,authenticated:_})),[m,_]),U=(0,n.useMemo)((()=>({reasonsEndpointUrl:y(d.V.newModerationReasonsApi)?"".concat(T,"users/reasons"):"".concat(I,"moderation/chat/abuse/reasons"),reportEndpointUrl:y(d.V.newModerationSubmitApi)?"".concat(T,"users/reports"):"".concat(I,"moderation/chat/abuse/report")})),[y,I,T]),B=(0,n.useMemo)((()=>{var e,t;return{config:{api:{apiUrl:j,websocketUrl:w,authorizeWsWithWebsocketProtocol:y(d.V.websocketProtocolAuthorisation),clientName:"mobile"===P?"MWEB":"DESKTOP",clientVersion:(0,i.getReleaseTag)(),moderationApiConfig:U,locale:h,langISOCode:E,siteCode:O,customHeaders:function(){var e=bt((function*(){var e=yield(0,s.Z)();if(e)return{"X-Fingerprint":e}}));return function(){return e.apply(this,arguments)}}()},app:mt(mt({customMessageRenderer:{dataParser:Je,renderer:$e}},(null===x||void 0===x||null===(e=x.google)||void 0===e?void 0:e.apiKey)&&{googleMapsApiToken:null===x||void 0===x||null===(t=x.google)||void 0===t?void 0:t.apiKey}),{},{features:{blockAndReportEnabled:y(d.V.blockReport),chatLocationEnabled:y(d.V.chatLocation),safeAttachmentsExtensionsEnabled:y(d.V.safeAttachmentsExtensions),detectLinksInMessagesEnabled:!1,disableSafeAttachmentsExtensionsForCategoryTypes:["real_estate","job"],disableFraudTooltipForCategoryTypes:["real_estate","job","automotive"],disableMaskingMessageForCategoryTypes:["real_estate","job","automotive"]},emptyPageAdditionalInfo:{sellingTab:o().createElement(ae,null),buyingTab:o().createElement(ie,null),welcomeScreen:o().createElement(oe,null)}}),routing:{listingBaseRoute:(0,L.U)(),conversationBaseRoute:(0,L.G)()}},authProvider:K,adsProvider:R,usersProvider:M,onPageEvent:b}}),[j,w,y,P,h,E,O,null===x||void 0===x||null===(t=x.google)||void 0===t?void 0:t.apiKey,K,R,M,g,U,b]);return o().createElement(le.Z,null,o().createElement(c.ChatIntegrationContextWrapper,{integration:B},r))}},49663:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var n={pageViews:{singleClosedQuestion:"system_message_received"},event:{buyFromChatClick:"delivery_click",singleClosedQuestionAnswerSent:"system_message_reply_send"},touchPointButton:{deliveryChat:"delivery_chat"}}},29553:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var n={chatLocation:"chatLocation",safeAttachmentsExtensions:"safe-attachments-extensions",chatMBWayFraudWarning:"desktop-chat-mb-way-fraud-warning",blockReport:"block-n-report",buyFromChatButton:"delivery-ua-buy-from-chat-button",transactionalChatAdDesktop:"transactional-chat-ad-desktop",websocketProtocolAuthorisation:"websocket-protocol-auth",employerPanel:"employer-panel",employerPanelRedirectFromMessages:"employer-panel-redirect-from-messages",employerPanelRedirectFromTransactionalMessages:"employer-panel-redirect-from-transactional-messages",newModerationSubmitApi:"user-chat-report-submit-on-reporting-gateway",newModerationReasonsApi:"user-chat-report-reason-retrieval-from-reporting-gateway"}},82608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4601),o=r(96763);r(88797);var i=r(26942),a=r(89674),l=r(72271);r(5571),r(72298),r(63862),r(89567),r(70863),r(2596),r(37354),r(67070),r(94638),r(81762),r(56792),r(9211),r(65429),r(97850),r(25058),r(29140),r(67920),r(56274),r(95562),r(34040),r(67223),r(73833),r(73153),r(4757),r(70458),r(30299),r(97771),r(14938),r(31322),r(28092),r(88627),r(66954);var s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n),c=function(e){return l.useChatEventsBridge(),s.default.createElement(s.default.Fragment,null,e.children)};t.ChatIntegrationContextWrapper=function(e){var t=e.children,r=e.integration,n=!!r.config.api.websocketUrl;return s.default.createElement(o.ChatIntegrationContext.Provider,{value:r},n?s.default.createElement(a.ChatWebSocketContextWrapper,null,s.default.createElement(c,null,s.default.createElement(i.DialogContextWrapper,null,t))):s.default.createElement(i.DialogContextWrapper,null,t))},t.WebSocketEventsBridge=c},55090:(e,t,r)=>{"use strict";var n=r(62514);r(4601);var o=r(2017),i=r(98e3);function a(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}r(70426),r(15348),r(27799),r(17006),r(74967),r(81763),r(273),r(8805),r(34341),r(31784);var l=a(n);t.b=function(e){var t=e.isActive?"background-brand-secondary-light":"background-global-primary",r=e.isActive?"background-brand-secondary-light":"background-global-primary",n=e.isDisabled?r:t,a=e.isActive?"borders-brand-secondary":"borders-global-tertiary",s=e.isActive?"transparent":"borders-global-tertiary",c=e.isDisabled?s:a,u=e.isActive?"text-brand-primary":"text-global-primary";return i.jsx(o.ChipBase,l.default({backgroundColor:n,borderWidth:1,borderStyle:"solid",borderColor:c,color:u},e))}},89610:e=>{e.exports={attributes:{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},content:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5.028 5a2 2 0 114 0 2 2 0 01-4 0zM6.36 5a.668.668 0 001.333 0 .668.668 0 00-1.333 0z" fill="#406367"/><path fill-rule="evenodd" clip-rule="evenodd" d="M.333 5C1.193 2.302 3.863.333 7.028.333c3.164 0 5.834 1.97 6.694 4.667-.86 2.698-3.53 4.667-6.694 4.667C3.863 9.667 1.194 7.698.333 5zm1.42 0c.833 1.983 2.939 3.333 5.275 3.333 2.336 0 4.442-1.35 5.274-3.333-.832-1.983-2.938-3.333-5.274-3.333S2.586 3.017 1.753 5z" fill="#406367"/>'}}}]);
//# sourceMappingURL=olxeuweb.chat.olx-chat-integration-wrapper.7ce3c418c.chunk.js.map